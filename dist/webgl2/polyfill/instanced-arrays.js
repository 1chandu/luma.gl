'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = polyfillInstancedArrays;

var _assert = require('assert');

var _assert2 = _interopRequireDefault(_assert);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function polyfillInstancedArrays(gl) {
  // Only add if WebGL2RenderingContext is not available
  if (!(gl instanceof WebGL2RenderingContext)) {
    var ext = gl.getExtension('ANGLE_instanced_arrays');
    (0, _assert2.default)(ext, 'WebGL extension not available: ANGLE_instanced_arrays');

    var _WebGLRenderingContex = WebGLRenderingContext;
    var prototype = _WebGLRenderingContex.prototype;

    prototype.vertexAttribDivisor = ext.vertexAttribDivisorANGLE.bind(ext);
    prototype.drawArraysInstanced = ext.drawArraysInstancedANGLE.bind(ext);
    prototype.drawElementsInstanced = ext.drawElementsInstancedANGLE.bind(ext);
    prototype.VERTEX_ATTRIB_ARRAY_DIVISOR = ext.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE;
  }
} // WebGL2 Polyfills for instanced rendering
// using ANGLE_instanced_arrays extension

/* eslint-disable max-params */
/* global WebGLRenderingContext, WebGL2RenderingContext */
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy93ZWJnbDIvcG9seWZpbGwvaW5zdGFuY2VkLWFycmF5cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztrQkFPd0IsdUI7O0FBRnhCOzs7Ozs7QUFFZSxTQUFTLHVCQUFULENBQWlDLEVBQWpDLEVBQXFDOztBQUVsRCxNQUFJLEVBQUUsY0FBYyxzQkFBaEIsQ0FBSixFQUE2QztBQUMzQyxRQUFNLE1BQU0sR0FBRyxZQUFILENBQWdCLHdCQUFoQixDQUFaO0FBQ0EsMEJBQU8sR0FBUCxFQUFZLHVEQUFaOztBQUYyQyxnQ0FJdkIscUJBSnVCO0FBQUEsUUFJcEMsU0FKb0MseUJBSXBDLFNBSm9DOztBQUszQyxjQUFVLG1CQUFWLEdBQWdDLElBQUksd0JBQUosQ0FBNkIsSUFBN0IsQ0FBa0MsR0FBbEMsQ0FBaEM7QUFDQSxjQUFVLG1CQUFWLEdBQWdDLElBQUksd0JBQUosQ0FBNkIsSUFBN0IsQ0FBa0MsR0FBbEMsQ0FBaEM7QUFDQSxjQUFVLHFCQUFWLEdBQWtDLElBQUksMEJBQUosQ0FBK0IsSUFBL0IsQ0FBb0MsR0FBcEMsQ0FBbEM7QUFDQSxjQUFVLDJCQUFWLEdBQ0UsSUFBSSxpQ0FETjtBQUVEO0FBQ0YsQyIsImZpbGUiOiJpbnN0YW5jZWQtYXJyYXlzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gV2ViR0wyIFBvbHlmaWxscyBmb3IgaW5zdGFuY2VkIHJlbmRlcmluZ1xuLy8gdXNpbmcgQU5HTEVfaW5zdGFuY2VkX2FycmF5cyBleHRlbnNpb25cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LXBhcmFtcyAqL1xuLyogZ2xvYmFsIFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgV2ViR0wyUmVuZGVyaW5nQ29udGV4dCAqL1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2x5ZmlsbEluc3RhbmNlZEFycmF5cyhnbCkge1xuICAvLyBPbmx5IGFkZCBpZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0IGlzIG5vdCBhdmFpbGFibGVcbiAgaWYgKCEoZ2wgaW5zdGFuY2VvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0KSkge1xuICAgIGNvbnN0IGV4dCA9IGdsLmdldEV4dGVuc2lvbignQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO1xuICAgIGFzc2VydChleHQsICdXZWJHTCBleHRlbnNpb24gbm90IGF2YWlsYWJsZTogQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO1xuXG4gICAgY29uc3Qge3Byb3RvdHlwZX0gPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgcHJvdG90eXBlLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBleHQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFLmJpbmQoZXh0KTtcbiAgICBwcm90b3R5cGUuZHJhd0FycmF5c0luc3RhbmNlZCA9IGV4dC5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUuYmluZChleHQpO1xuICAgIHByb3RvdHlwZS5kcmF3RWxlbWVudHNJbnN0YW5jZWQgPSBleHQuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUuYmluZChleHQpO1xuICAgIHByb3RvdHlwZS5WRVJURVhfQVRUUklCX0FSUkFZX0RJVklTT1IgPVxuICAgICAgZXh0LlZFUlRFWF9BVFRSSUJfQVJSQVlfRElWSVNPUl9BTkdMRTtcbiAgfVxufVxuIl19